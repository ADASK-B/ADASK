<!-- Kollabierbarer Bereich -->
<div class="collapse navbar-collapse" id="navbarSupportedContent">
  <!-- Neuer Container, der die Styles scoped -->
  <div class="collapse-content-container">

    <input type="checkbox" id="theme-mode" class="mode" hidden="" />
    <div>
      <div class="wrap">
        <input
          checked=""
          type="radio"
          id="rd-1"
          name="radio"
          class="rd-1"
          hidden=""
        />
        <label for="rd-1" class="label" style="--index: 0;"
          ><span>About Me</span></label
        >

        <input
          type="radio"
          id="rd-2"
          name="radio"
          class="rd-2"
          hidden=""
        />
        <label for="rd-2" class="label" style="--index: 1;"
          ><span>Summary</span></label
        >

        <input
          type="radio"
          id="rd-3"
          name="radio"
          class="rd-3"
          hidden=""
        />
        <label for="rd-3" class="label" style="--index: 2;"
          ><span>Portfolio</span></label
        >

        <div class="bar"></div>
        <div class="slidebar"></div>
      </div>
    </div>

    <!-- Styles nur für diesen Container -->
    <style>
      /* Beispiel: immer den Selektor .collapse-content-container davorstellen */
      .collapse-content-container .wrap {
        --round: 10px;
        --p-x: 8px;
        --p-y: 4px;
        --w-label: 100px;
        display: flex;
        align-items: center;
        padding: var(--p-y) var(--p-x);
        position: relative;
        background: var(--color-primary);
        border-radius: var(--round);
        max-width: 100%;
        overflow-x: auto;
        scrollbar-width: none;
        -webkit-overflow-scrolling: touch;
        top: 0;
        z-index: 1;
      }

      .collapse-content-container .wrap input {
        height: 0;
        width: 0;
        position: absolute;
        overflow: hidden;
        display: none;
        visibility: hidden;
      }

      .collapse-content-container .label {
        cursor: pointer;
        outline: none;
        font-size: 0.875rem;
        letter-spacing: initial;
        font-weight: 500;
        color: var(--color-secondary);
        background: transparent;
        padding: 26px 14px 16px;
        width: var(--w-label);
        min-width: var(--w-label);
        text-decoration: none;
        -webkit-user-select: none;
        user-select: none;
        transition: color 0.25s ease;
        outline-offset: -6px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 2;
        -webkit-tap-highlight-color: transparent;
        color: #F3F3F3;
      }

      .collapse-content-container .label span {
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
      }

      .collapse-content-container .wrap input[class*="rd-"]:checked + .label {
        color: var(--color-pure);
      }

      .collapse-content-container .bar {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        position: absolute;
        transform-origin: 0 0 0;
        height: 50%;
        width: var(--w-label);
        z-index: 0;
        transition: transform 0.5s cubic-bezier(0.33, 0.83, 0.99, 0.98);
      }
      .collapse-content-container .bar::before,
      .collapse-content-container .bar::after {
        content: "";
        position: absolute;
        height: 4px;
        width: 100%;
        background: var(--color-secondary);
      }
      .collapse-content-container .bar::before {
        top: 0;
        border-radius: 0 0 9999px 9999px;
      }
      .collapse-content-container .bar::after {
        bottom: 0;
        border-radius: 9999px 9999px 0 0;
      }

      /* Transformationen für die einzelnen Radio-Buttons (Tabs) */
      .collapse-content-container .rd-1:checked ~ .bar,
      .collapse-content-container .rd-1:checked ~ .slidebar,
      .collapse-content-container .rd-1 + label:hover ~ .slidebar {
        transform: translateX(0) scaleX(1);
      }
      .collapse-content-container .rd-2:checked ~ .bar,
      .collapse-content-container .rd-2:checked ~ .slidebar,
      .collapse-content-container .rd-2 + label:hover ~ .slidebar {
        transform: translateX(100%) scaleX(1);
      }
      .collapse-content-container .rd-3:checked ~ .bar,
      .collapse-content-container .rd-3:checked ~ .slidebar,
      .collapse-content-container .rd-3 + label:hover ~ .slidebar {
        transform: translateX(200%) scaleX(1);
      }

      /* ----------- Responsive: Untereinander darstellen ----------- */
      @media (max-width: 768px) {
        .collapse-content-container .wrap {
          flex-direction: column;   /* Statt row => column */
          align-items: flex-start;  /* Label linksbündig */
          overflow-x: hidden;       /* Kein horizontales Scrollen mehr */
          height: auto;
        }

        .collapse-content-container .label {
          width: 100%;
          min-width: auto;
          text-align: left;
          justify-content: flex-start;
        }

        .collapse-content-container .bar,
        .collapse-content-container .slidebar {
          width: 100%;
          height: 58px;
        }

        .collapse-content-container .bar::before,
        .collapse-content-container .bar::after {
          width: 100%;
        }

        /* Offset für die „Tabs“ im mobilen Layout */
        .collapse-content-container .rd-1:checked ~ .bar,
        .collapse-content-container .rd-1:checked ~ .slidebar {
          transform: translateY(0px);
        }
        .collapse-content-container .rd-2:checked ~ .bar,
        .collapse-content-container .rd-2:checked ~ .slidebar {
          transform: translateY(58px);
        }
        .collapse-content-container .rd-3:checked ~ .bar,
        .collapse-content-container .rd-3:checked ~ .slidebar {
          transform: translateY(116px);
        }
      }
    </style>
  </div>
</div>
